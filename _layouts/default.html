{% capture strt %}{{ site.url | split:'/' | size }}{% endcapture %}
{% capture lvl %}{{ page.url | append:'/index.html' | split:'/' | size }}{% endcapture %}
{% capture relative %}{% for i in (strt..lvl) %}../{% endfor %}{% endcapture %}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>{{site.title}} - {{site.tagline}}</title>

    <meta name="description" content="{{site.tagline}}">
    <meta name="keywords" content="{{site.keywords}}" />
    <meta name="author" content="Jasper Palfree" />

    <link href='http://fonts.googleapis.com/css?family=Alice&text=Well%20Caffeinated' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Quattrocento+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{{relative}}assets/fonts/Caviar-Dreams-fontfacekit/stylesheet.css">
    <link rel="stylesheet" href="{{relative}}docs/css/highlight-nearly-solarized.css">
    <link rel="stylesheet" href="{{relative}}assets/styles/codemirror.css">
    <link rel="stylesheet" href="{{relative}}assets/styles/styles.css">
    <script src="{{relative}}assets/scripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="{{relative}}assets/scripts/vendor/physicsjs-current/physicsjs-full.min.js"></script>
  </head>
  <body>
    <div id="main" class="site">
        <section  id="main-header">
            <header>
                <h1 class="header"><a href="{{site.url}}">Physics<span>JS</span></a></h1>

                <ul class="menu">
                  <li><a href="./{{relative}}">Showcase</a></li>
                  <li><a href="{{relative}}examples">More Demos</a></li>
                  <li><a href="{{relative}}installation">Getting Started</a></li>
                  <li><a href="{{relative}}basic-usage">Basic Usage</a></li>
                  <li><a href="{{relative}}tutorials">Tutorials</a></li>
                  <li><a href="https://github.com/wellcaffeinated/PhysicsJS/wiki">Documentation</a></li>
                  <li><a href="{{relative}}docs">API Reference</a></li>
                  <li><a href="{{relative}}contribute">Contribute</a></li>
                </ul>
                <ul>
                  <li>v0.7.0 (beta)</li>
                  <li class="button download"><a class="button download" href="https://github.com/wellcaffeinated/PhysicsJS/archive/v0.7.0.zip">Download</a></li>
                  <li class="button">
                      <form action="http://codepen.io/pen/define" method="POST" target="_blank">
                          <input id="data-input" type="hidden" name="data" value="{&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;css_external&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;js_external&amp;quot;:&amp;quot;http://requirejs.org/docs/release/2.1.15/minified/require.js&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;<div id=\&amp;quot;viewport\&amp;quot;></div>&amp;quot;,&amp;quot;css&amp;quot;:&amp;quot;html, body { height: 100%; margin: 0; }\n#viewport { position: relative; height: 100%; background: #1d1f20; }&amp;quot;,&amp;quot;js&amp;quot;:&amp;quot;require.config({\n  baseUrl: &amp;apos;http://wellcaffeinated.net/PhysicsJS/assets/scripts/vendor/&amp;apos;,\n  packages: [\n    {\n      name: &amp;apos;physicsjs&amp;apos;,\n      location: &amp;apos;physicsjs-current&amp;apos;,\n      main: &amp;apos;physicsjs-full.min&amp;apos;\n    }\n  ]\n});\n\nvar colors = [\n  [&amp;apos;0x268bd2&amp;apos;, &amp;apos;0x0d394f&amp;apos;]\n  ,[&amp;apos;0xc93b3b&amp;apos;, &amp;apos;0x561414&amp;apos;]\n  ,[&amp;apos;0xe25e36&amp;apos;, &amp;apos;0x79231b&amp;apos;]\n  ,[&amp;apos;0x6c71c4&amp;apos;, &amp;apos;0x393f6a&amp;apos;]\n  ,[&amp;apos;0x58c73c&amp;apos;, &amp;apos;0x30641c&amp;apos;]\n  ,[&amp;apos;0xcac34c&amp;apos;, &amp;apos;0x736a2c&amp;apos;]\n];\n\nfunction initWorld(world, Physics) {\n\n  // bounds of the window\n  var viewWidth = window.innerWidth\n    ,viewHeight = window.innerHeight\n    ,viewportBounds = Physics.aabb(0, 0, window.innerWidth, window.innerHeight)\n    ,edgeBounce\n    ,renderer\n    ,styles = {\n      &amp;apos;circle&amp;apos;: {\n        fillStyle: colors[0][0],\n        lineWidth: 1,\n        strokeStyle: colors[0][1],\n        angleIndicator: colors[0][1]\n      }\n      ,&amp;apos;rectangle&amp;apos;: {\n        fillStyle: colors[1][0],\n        lineWidth: 1,\n        strokeStyle: colors[1][1],\n        angleIndicator: colors[1][1]\n      }\n      ,&amp;apos;convex-polygon&amp;apos;: {\n        fillStyle: colors[2][0],\n        lineWidth: 1,\n        strokeStyle: colors[2][1],\n        angleIndicator: colors[2][1]\n      }\n    }\n    ;\n\n  // create a renderer\n  renderer = Physics.renderer(&amp;apos;pixi&amp;apos;, { el: &amp;apos;viewport&amp;apos;, styles: styles });\n  // add the renderer\n  world.add(renderer);\n  // render on each step\n  world.on(&amp;apos;step&amp;apos;, function () {\n    world.render();\n  });\n  \n  // constrain objects to these bounds\n  edgeBounce = Physics.behavior(&amp;apos;edge-collision-detection&amp;apos;, {\n    aabb: viewportBounds\n    ,restitution: 0.2\n    ,cof: 0.8\n  });\n\n  // resize events\n  window.addEventListener(&amp;apos;resize&amp;apos;, function () {\n\n    // as of 0.7.0 the renderer will auto resize... so we just take the values from the renderer\n    viewportBounds = Physics.aabb(0, 0, renderer.width, renderer.height);\n    // update the boundaries\n    edgeBounce.setAABB(viewportBounds);\n\n  }, true);\n\n  // add behaviors to the world\n  world.add([\n    Physics.behavior(&amp;apos;constant-acceleration&amp;apos;)\n    ,Physics.behavior(&amp;apos;body-impulse-response&amp;apos;)\n    ,Physics.behavior(&amp;apos;body-collision-detection&amp;apos;)\n    ,Physics.behavior(&amp;apos;sweep-prune&amp;apos;)\n    ,edgeBounce\n  ]);  \n}\n\nfunction startWorld( world, Physics ){\n  // subscribe to ticker to advance the simulation\n  Physics.util.ticker.on(function( time ) {\n    world.step( time );\n  });\n}\n\n//\n// Add some interaction\n//\nfunction addInteraction( world, Physics ){\n  // add the mouse interaction\n  world.add(Physics.behavior(&amp;apos;interactive&amp;apos;, { el: world.renderer().container }));\n  // add some fun extra interaction\n  var attractor = Physics.behavior(&amp;apos;attractor&amp;apos;, {\n    order: 0,\n    strength: 0.002\n  });\n  \n  world.on({\n    &amp;apos;interact:poke&amp;apos;: function( pos ){\n      world.wakeUpAll();\n      attractor.position( pos );\n      world.add( attractor );\n    }\n    ,&amp;apos;interact:move&amp;apos;: function( pos ){\n      attractor.position( pos );\n    }\n    ,&amp;apos;interact:release&amp;apos;: function(){\n      world.wakeUpAll();\n      world.remove( attractor );\n    }\n  });\n}\n\n// helper function (bind \&amp;quot;this\&amp;quot; to Physics)\nfunction makeBody( obj ){ \n  return this.body( obj.name, obj );\n}\n\n//\n// Add bodies to the world\n//\nfunction addBodies( world, Physics ){\n  var v = Physics.geometry.regularPolygonVertices;\n  var bodies = [\n    { name: &amp;apos;circle&amp;apos;, x: 100, y: 100, vx: 0.1, radius: 60 }\n    ,{ name: &amp;apos;rectangle&amp;apos;, x: 400, y: 100, vx: -0.1, width: 130, height: 130 }\n    ,{ name: &amp;apos;convex-polygon&amp;apos;, x: 150, y: 300, vertices: v( 5, 90 ) }\n  ];\n  \n  // functional programming FTW\n  world.add( bodies.map(makeBody.bind(Physics)) );\n}\n\n//\n// Load the libraries with requirejs and create the simulation\n//\nrequire([\n  &amp;apos;physicsjs&amp;apos;,\n  &amp;apos;pixi&amp;apos;\n], function( Physics, PIXI ){\n  window.PIXI = PIXI;\n  \n  var worldConfig = {\n    // timestep\n    timestep: 6,\n    // maximum number of iterations per step\n    maxIPF: 4,\n    // default integrator\n    integrator: &amp;apos;verlet&amp;apos;,\n    // is sleeping disabled?\n    sleepDisabled: false,\n    // speed at which bodies wake up\n    sleepSpeedLimit: 0.1,\n    // variance in position below which bodies fall asleep\n    sleepVarianceLimit: 2,\n    // time (ms) before sleepy bodies fall asleep\n    sleepTimeLimit: 500\n  };\n  \n  Physics( worldConfig, [\n    initWorld,\n    addInteraction,\n    addBodies,\n    startWorld\n  ]);\n  \n});\n&amp;quot;,&amp;quot;html_pre_processor&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;css_pre_processor&amp;quot;:&amp;quot;scss&amp;quot;,&amp;quot;js_library&amp;quot;:&amp;quot;&amp;quot;}">
                          <button type="submit" class="btn-codepen-sandbox">Codepen Sandbox!</button>
                      </form>
                  </li>
                  <li class="button"><a class="button github" href="https://github.com/wellcaffeinated/PhysicsJS">GitHub</a></li>
                  <li>MIT License</li>
                </ul>

            </header>
            <footer>
                <p><small>a <a href="http://wellcaffeinated.net" target="_blank" class="author">Well Caffeinated</a> project</small></p>
                <script data-gittip-username="wellcaffeinated" src="//gttp.co/v1.js"></script>
            </footer>
        </section>
        <section id="content">
            {{ content }}
        </section>
    </div>

  <script src="{{relative}}assets/scripts/vendor/codemirror.js"></script>
  <script src="{{relative}}assets/scripts/demo-editor.js"></script>
  <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
    try {
      var pageTracker = _gat._getTracker("UA-28341644-3");
      pageTracker._trackPageview();
    } catch(err) {}
  </script>
  </body>
</html>
